@model IEnumerable<MinShop_frontdesk.Models.stock>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
    }

    /* 標題及按鈕欄位 */
    .menu {
        display: flex;
        justify-content: space-between;
        background-color: white;
        align-items: center;
        text-align: center;
        padding: 7px 50px; /* 調整內邊距以符合設計 */
        border-bottom: solid #f0f0f0;
        border-width: 3px;
    }

    .title {
        padding-top: 10px;
        color: #333333;
        font-size: 24px;
        font-weight: 600;
    }

    .menu a {
        text-decoration: none;
        padding: 5px 10px;
        margin: 5px 5px;
        background-color: rgb(244, 244, 244);
        border-radius: 5px;
    }

        .menu a:hover {
            background-color: #cccccc;
        }

    .menu img {
        width: 20px;
        height: 20px;
    }

    .buttons {
        display: flex;
        align-items: center;
    }

        .buttons a:first-child {
            margin-right: 10px; /* 調整按鈕之間的間距 */
        }

    /* 商品陳列區 */
    .product-container {
        display: flex;
        flex-wrap: nowrap; /* 不換行 */
        overflow-x: hidden; /* 隱藏水平滾動條 */
        padding-left: 20px; /* 增加左側內邊距 */
        background-color: white;
        width: auto;
    }

    .products-inner {
        display: inline-flex; /* 横向排列 */
        flex-wrap: nowrap; /* 不换行 */
        transition: transform 0.8s ease; /* 添加動畫效果 */
    }

    .card {
        transition: transform 0.8s ease; /* 添加動畫效果 */
    }

        .card img {
            height: auto;
        }
    /* 廣告區 */

    .advertise {
        display: flex;
        flex-wrap: nowrap; /* 不换行 */
        width: auto;
        padding: 30px 0px;
    }

        .advertise img {
            width: auto;
            height: auto;
        }

    /* 熱門分類 */

    .popular {
        background-color: white;
    }

    .list-group-item.list-group-item-action.active {
        background-color: white !important;
        color: #17A2B8 !important;
    }

    #nav {
        width: auto;
    }

    nav {
        width: auto;
    }

    .carousel {
        background-color: lightgray; /* 可選：設定輪播背景顏色 */
    }

    /* 可選：設定輪播圖片的高度 */
    .carousel-item img {
        height: 100%; /* 調整輪播圖片的高度 */
        width: 100%; /* 保持圖片寬度自適應 */
        object-fit: cover; /* 圖片填滿整個輪播框 */
    }

    #a1 {
        display: flex;
        flex-direction: column;
        max-width: 300px;
        margin: 0 auto;
    }

    .top-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px;
        background-color: #f9f9f9;
        margin-bottom: 10px;
    }

        .top-card img {
            width: 150px;
            height: 150px;
            margin-right: 10px;
        }

        .top-card .info {
            flex-grow: 1;
        }

            .top-card .info h3 {
                margin: 0;
            }

            .top-card .info .rating {
                color: gold;
            }

            .top-card .info .price {
                font-weight: bold;
            }

    .bottom-section,
    .recommendation-section {
        padding: 10px;
        border-top: 1px solid #ccc;
    }

    .special-deal,
    .recommendation-title {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .product-card {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
        padding: 10px;
        background-color: #f9f9f9;
    }

        .product-card img {
            width: 80px;
            height: 80px;
            margin-right: 10px;
        }

        .product-card .info {
            flex-grow: 1;
        }

            .product-card .info .rating {
                color: gold;
            }

    .recommendation-buttons {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
    }

        .recommendation-buttons button {
            padding: 10px;
            background-color: #ccc;
            border: none;
            cursor: pointer;
        }

    .recommendation-content {
        display: none;
        padding: 10px;
    }
</style>
<div class="container mt-3">
    <div id="nav">
        <div class="justify-content-center align-items-center">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="~/images/bedding/banner1.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="~/images/lipgloss/banner1.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="~/images/tent/banner1.jpg" class="d-block w-100" alt="...">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>
</div>
<div class="container mt-5 mb-5 row">
    <div class="col-sm-3 ml-0 mr-0 pl-0 pr-0" id="a1">
        <!-- 頂層卡片 -->
        <div>
            <div class="special-deal">熱門商品</div>
            <div class="top-card">
                @{
                    var maxClick = Model.Max(x => x.click);
                    var itemsWithMaxClick = Model.Where(x => x.click == maxClick && x.removalDate == null).ToList();
                    var displayedClickCounts = new HashSet<int>();

                    foreach (var item in itemsWithMaxClick)
                    {
                        int clickCount = item.click ?? 0;

                        if (displayedClickCounts.Contains(clickCount))
                        {
                            continue;
                        }

                        <img src="~/images/product/@item.image" alt="商品圖片">
                        <div class="info">
                            <a href="~/home/product?productId=@item.productId" class="card-title mb-3" style="color:black;text-decoration:none">@item.name</a>
                            <div class="rating">★★★★☆</div>
                            @if (item.specialoffer != null)
                            {
                                <del><h5 class="price">$@item.price</h5></del><h5 class="price text-danger">$@item.specialoffer</h5>
                            }
                            else
                            {
                                <h5 class="price">$@item.price</h5>
                            }
                            @if (Session["Member"] != null)
                            {
                                <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                            }
                        </div>

                        displayedClickCounts.Add(clickCount);
                    }
                }

            </div>
            <!-- 特價區 -->
            <div class="bottom-section">
                <div class="special-deal">特價</div>
                @foreach (var item in Model.Where(m => m.specialoffer != null && m.removalDate == null))
                {
                    <div class="product-card">
                        <img src="~/images/product/@item.image">
                        <div class="info">
                            <a href="~/home/product?productId=@item.productId" style="color:black;text-decoration:none">@item.name</a>
                            <div class="rating">★★★★★</div>
                            <h5 class="price">$@item.specialoffer</h5>
                            @if (Session["Member"] != null)
                            {
                                <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                            }
                        </div>
                    </div>
                }
            </div>
            <!-- 推薦區 -->
            <div class="recommendation-section">
                <div class="recommendation-title">推薦</div>
                <div class="recommendation-buttons">
                    <button onclick="showRecommendation(1)">唇彩</button>
                    <button onclick="showRecommendation(2)">寢具</button>
                    <button onclick="showRecommendation(3)">帳篷</button>
                    <button onclick="showRecommendation(4)">餐廚用品</button>
                    <button onclick="showRecommendation(5)">電視</button>
                    <button onclick="showRecommendation(6)">耳機/麥克風</button>
                    <button onclick="showRecommendation(7)">文學小說</button>
                    <button onclick="showRecommendation(8)">衛浴用品</button>
                    <!-- 依此類推，共9個按鈕 -->
                </div>
                <!-- 以下為推薦內容區塊 -->
                <div id="recommendationContent1" class="recommendation-content">
                    <h3>唇彩</h3>
                    <!-- 相應的推薦商品卡片 -->
                    @foreach (var item in Model.Where(m => m.level1Class == "唇彩        " && m.removalDate == null))
                    {
                        <div class="product-card">
                            <img src="~/images/product/@item.image">
                            <div class="info">
                                <a href="~/home/product?productId=@item.productId" style="color:black;text-decoration:none">@item.name</a>
                                <div class="rating">★★★★★</div>
                                @if (item.specialoffer != null)
                                {
                                    <del><h5 class="price">$@item.price</h5></del><h5 class="price text-danger">$@item.specialoffer</h5>
                                }
                                else
                                {
                                    <h5 class="price">$@item.price</h5>
                                }
                                @if (Session["Member"] != null)
                                {
                                    <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                                }
                            </div>
                        </div>
                    }
                </div>
                <div id="recommendationContent2" class="recommendation-content">
                    <h3>寢具</h3>
                    <!-- 相應的推薦商品卡片 -->
                    @foreach (var item in Model.Where(m => m.level1Class == "寢具        " && m.removalDate == null))
                    {
                        <div class="product-card">
                            <img src="~/images/product/@item.image">
                            <div class="info">
                                <a href="~/home/product?productId=@item.productId" style="color:black;text-decoration:none">@item.name</a>
                                <div class="rating">★★★★★</div>
                                @if (item.specialoffer != null)
                                {
                                    <del><h5 class="price">$@item.price</h5></del><h5 class="price text-danger">$@item.specialoffer</h5>
                                }
                                else
                                {
                                    <h5 class="price">$@item.price</h5>
                                }
                                @if (Session["Member"] != null)
                                {
                                    <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                                }
                            </div>
                        </div>
                    }
                </div>
                <div id="recommendationContent3" class="recommendation-content">
                    <h3>帳篷</h3>
                    <!-- 相應的推薦商品卡片 -->
                    @foreach (var item in Model.Where(m => m.level1Class == "帳篷        " && m.removalDate == null))
                    {
                        <div class="product-card">
                            <img src="~/images/product/@item.image">
                            <div class="info">
                                <a href="~/home/product?productId=@item.productId" style="color:black;text-decoration:none">@item.name</a>
                                <div class="rating">★★★★★</div>
                                @if (item.specialoffer != null)
                                {
                                    <del><h5 class="price">$@item.price</h5></del><h5 class="price text-danger">$@item.specialoffer</h5>
                                }
                                else
                                {
                                    <h5 class="price">$@item.price</h5>
                                }
                                @if (Session["Member"] != null)
                                {
                                    <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                                }
                            </div>
                        </div>
                    }
                </div>
                <div id="recommendationContent4" class="recommendation-content">
                    <h3>餐廚用品</h3>
                    <!-- 相應的推薦商品卡片 -->
                    <div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div>
                </div>
                <div id="recommendationContent6" class="recommendation-content">
                    <h3>電視</h3>
                    <!-- 相應的推薦商品卡片 -->
                    <div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div>
                </div>
                <div id="recommendationContent7" class="recommendation-content">
                    <h3>耳機/麥克風</h3>
                    <!-- 相應的推薦商品卡片 -->
                    <div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div>
                </div>
                <div id="recommendationContent8" class="recommendation-content">
                    <h3>文學小說</h3>
                    <!-- 相應的推薦商品卡片 -->
                    <div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div>
                </div>
                <div id="recommendationContent9" class="recommendation-content">
                    <h3>衛浴用品</h3>
                    <!-- 相應的推薦商品卡片 -->
                    <div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div><div class="product-card">
                        <img src="product2.jpg" alt="商品圖片">
                        <div class="info">
                            <h3>商品名稱</h3>
                            <div class="rating">★★★★★</div>
                            <div class="price">$80</div>
                        </div>
                    </div>
                </div>
                <!--共9個內容區塊 -->
            </div>
        </div>
    </div>
    <div class="col-sm-9">
        <!-- ======================================= 新品上架 ======================================= -->
        <div>
            <!-- ================================ 標題及按鈕欄位 ================================ -->
            <div class="menu rounded-top">
                <div>
                    <h3 class="title">新品上架</h3>
                </div>
                <div class="buttons">
                    <a href="#" id="prev"><img src="~/images/prev.png" alt="Previous"></a>
                    <a href="#" id="next"><img src="~/images/next.png" alt="Next"></a>
                </div>
            </div>
            <!-- ============================== 標題及按鈕欄位 END ============================== -->
            <!-- ================================ 商品陳列區域 ================================ -->
            <div class="product-container rounded-bottom">
                <div class="products-inner py-3">
                    @{
                        var oneMonthAgo = DateTime.Today.AddMonths(-1);
                    }
                    @foreach (var item in Model.Where(m => m.releaseDate >= oneMonthAgo && m.removalDate == null).OrderByDescending(m=>m.releaseDate))
                    {
                        <div class="card m-2" style="width: 13rem; height: 23rem;">
                            <img src="~/images/product/@item.image" class="card-img-top" alt="...">
                            <div class="card-body">
                                <a href="~/home/product?productId=@item.productId" class="card-title" style="color:black;text-decoration:none">@item.name</a>
                                @if (item.specialoffer != null)
                                {
                                    <del><h5 class="card-text">$@item.price</h5></del><h5 class="card-text text-danger">$@item.specialoffer</h5>
                                }
                                else
                                {
                                    <h5 class="card-text">$@item.price</h5>
                                }
                                @if (Session["Member"] != null)
                                {
                                    <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                                }
                            </div>
                        </div>
                    }
                </div>
            </div>
            <!-- =============================== 商品陳列區域 END =============================== -->
        </div>
        <!-- ===================================== 新品上架 END ===================================== -->
        <!-- ======================================= 廣告區域 ======================================= -->
        <div class="advertise">
            <div class="col-md-4 col-sm-4" style="padding-right: 10px;">
                <div>
                    <a href="#"><img class="img-fluid rounded" src="~/images/banner/home-banner1.jpg" alt=""></a>
                </div>
            </div>
            <div class="col-md-4 col-sm-4" style="padding: 0px 12px;">
                <div>
                    <a href="#"><img class="img-fluid rounded" src="~/images/banner/home-banner2.jpg" alt=""></a>
                </div>
            </div>
            <div class="col-md-4 col-sm-4" style="padding-left: 10px;">
                <div>
                    <a href="#"><img class="img-fluid rounded" src="~/images/banner/home-banner3.jpg" alt=""></a>
                </div>
            </div>
        </div>
        <!-- ===================================== 廣告區域 END ===================================== -->
        <!-- ======================================= 熱門分類 ======================================= -->
        <div class="popular">
            <!-- ===================================== 標題 ===================================== -->
            <div class="menu rounded-top">
                <div>
                    <h3 class="title">熱門分類</h3>
                </div>
            </div>
            <!-- =================================== 標題 END =================================== -->
            <!-- ================================ 分頁及商品展示 ================================ -->
            <div class="row">
                <!-- =============================== 左側分頁 =============================== -->
                <div class="col-4">
                    <div class="list-group" id="list-tab" role="tablist">
                        <a class="list-group-item list-group-item-action active" id="list-lipgloss-list"
                           data-toggle="list" href="#list-lipgloss" role="tab" aria-controls="lipgloss">
                            <i class="fa-solid fa-spray-can-sparkles"></i>&nbsp;唇彩
                        </a>
                        <a class="list-group-item list-group-item-action" id="list-bedding-list" data-toggle="list"
                           href="#list-bedding" role="tab" aria-controls="bedding">
                            <i class="fa-solid fa-bed"></i>&nbsp;寢具
                        </a>
                        <a class="list-group-item list-group-item-action" id="list-tent-list" data-toggle="list"
                           href="#list-tent" role="tab" aria-controls="tent">
                            <i class="fa-solid fa-tent"></i>&nbsp;帳篷
                        </a>
                        <!-- =============================== 尚無功能 =============================== -->
                        <li class="list-group-item"><i class="fa-solid fa-utensils"></i>&nbsp;餐廚用品</li>
                        <li class="list-group-item"><i class="fa-solid fa-tv"></i>&nbsp;電視</li>
                        <li class="list-group-item"><i class="fa-solid fa-headphones"></i>&nbsp;耳機/麥克風</li>
                        <li class="list-group-item"><i class="fa-solid fa-book"></i>&nbsp;文學小說</li>
                        <li class="list-group-item"><i class="fa-solid fa-shower"></i>&nbsp;衛浴用品</li>
                    </div>
                </div>
                <!-- ============================= 左側分頁 END ============================= -->
                <!-- ============================= 右側商品展示 ============================= -->
                <div class="col-8">
                    <div class="tab-content" id="nav-tabContent">
                        <!-- ====================== 分類1-唇彩 ====================== -->
                        <div class="tab-pane fade show active" id="list-lipgloss" role="tabpanel"
                             aria-labelledby="list-lipgloss-list">
                            <!-- =================== 商品卡片 =================== -->
                            <div class="products-inner py-3 row">
                                @foreach (var item in Model.Where(m => m.removalDate == null).OrderByDescending(m => m.click).Take(2))
                                {
                                    if (item.level1Class == "唇彩        ")
                                    {
                                        <div class="card m-2" style="width: 13rem; height: 23rem;">
                                            <img src="~/images/product/@item.image" class="card-img-top" alt="...">
                                            <div class="card-body">
                                                <a href="~/home/product?productId=@item.productId" class="card-title" style="color:black;text-decoration:none">@item.name</a>
                                                @if (item.specialoffer != null)
                                                {
                                                    <del><h5 class="card-text">$@item.price</h5></del><h5 class="card-text text-danger">$@item.specialoffer</h5>
                                                }
                                                else
                                                {
                                                    <h5 class="card-text">$@item.price</h5>
                                                }
                                                @if (Session["Member"] != null)
                                                {
                                                    <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                                                }
                                            </div>
                                        </div>
                                    }
                                }

                            </div>
                            <!-- ================= 商品卡片 END ================= -->
                        </div>
                        <!-- ==================== 分類1-唇彩 END ==================== -->
                        <!-- ====================== 分類2-寢具 ====================== -->
                        <div class="tab-pane fade" id="list-bedding" role="tabpanel"
                             aria-labelledby="list-bedding-list">
                            <!-- =================== 商品卡片 =================== -->
                            <div class="products-inner py-3 row">
                                @foreach (var item in Model.Where(m => m.removalDate == null).OrderByDescending(m => m.click).Take(2))
                                {
                                    if (item.level1Class == "寢具        ")
                                    {
                                        <div class="card m-2" style="width: 13rem; height: 23rem;">
                                            <img src="~/images/product/@item.image" class="card-img-top" alt="...">
                                            <div class="card-body">
                                                <a href="~/home/product?productId=@item.productId" class="card-title" style="color:black;text-decoration:none">@item.name</a>
                                                @if (item.specialoffer != null)
                                                {
                                                    <del><h5 class="card-text">$@item.price</h5></del><h5 class="card-text text-danger">$@item.specialoffer</h5>
                                                }
                                                else
                                                {
                                                    <h5 class="card-text">$@item.price</h5>
                                                }
                                                @if (Session["Member"] != null)
                                                {
                                                    <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                                                }
                                            </div>
                                        </div>
                                    }
                                }

                            </div>
                            <!-- ================= 商品卡片 END ================= -->
                        </div>
                        <!-- ==================== 分類2-寢具 END ==================== -->
                        <!-- ====================== 分類3-帳篷 ====================== -->
                        <div class="product-container rounded-bottom tab-pane fade" id="list-tent" role="tabpanel" aria-labelledby="list-tent-list">
                            <!-- =================== 商品卡片 =================== -->
                            <div class="products-inner py-3 row">
                                @foreach (var item in Model.Where(m => m.removalDate == null).OrderByDescending(m => m.click).Take(2))
                                {
                                    if (item.level1Class == "帳篷        ")
                                    {
                                        <div class="card m-2" style="width: 13rem; height: 23rem;">
                                            <img src="~/images/product/@item.image" class="card-img-top" alt="...">
                                            <div class="card-body">
                                                <a href="~/home/product?productId=@item.productId" class="card-title" style="color:black;text-decoration:none">@item.name</a>
                                                @if (item.specialoffer != null)
                                                {
                                                    <del><h5 class="card-text">$@item.price</h5></del><h5 class="card-text text-danger">$@item.specialoffer</h5>
                                                }
                                                else
                                                {
                                                    <h5 class="card-text">$@item.price</h5>
                                                }
                                                @if (Session["Member"] != null)
                                                {
                                                    <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                                                }
                                            </div>
                                        </div>
                                    }
                                }

                            </div>
                            <!-- ================= 商品卡片 END ================= -->
                        </div>
                        <!-- ==================== 分類3-帳篷 END ==================== -->
                    </div>
                </div>
                <!-- =========================== 右側商品展示 END =========================== -->
            </div>
            <!-- ============================== 分頁及商品展示 END ============================== -->
        </div>
        <!-- ===================================== 熱門分類 END ===================================== -->
        <!-- ======================================= 廣告區域 ======================================= -->
        <div class="advertise">
            <div class="row">
                <div class="col-md-8" style="padding-right: 10px;">
                    <div>
                        <a href="#"><img class="img-fluid rounded" src="~/images/banner/home-banner4.jpg" alt=""></a>
                    </div>
                </div>
                <div class="col-md-4 col-sm-4" style="padding: 0px 12px;">
                    <div>
                        <a href="#"><img class="img-fluid rounded" src="~/images/banner/home-banner5.jpg" alt=""></a>
                    </div>
                </div>
            </div>
        </div>
        <!-- ===================================== 廣告區域 END ===================================== -->
        <div class="product-container mt-4 p-3 rounded" style="background-color: white;">
            <div class="row">
                @foreach (var item in Model.Where(m => m.removalDate == null).OrderBy(m => m.level1Class))
                {
                    <div class="col-md-3 col-sm-6 mb-4">
                        <div class="card" style="width: 100%; height: 23rem;">
                            <img src="~/images/product/@item.image" class="card-img-top" alt="...">
                            <div class="card-body">
                                <a href="~/home/product?productId=@item.productId" class="card-title" style="color:black;text-decoration:none">@item.name</a>
                                @if (item.specialoffer != null)
                                {
                                    <del><h5 class="card-text">$@item.price</h5></del>
                                    <h5 class="card-text text-danger">$@item.specialoffer</h5>
                                }
                                else
                                {
                                    <h5 class="card-text">$@item.price</h5>
                                }
                                @if (Session["Member"] != null)
                                {
                                    <a href="~/home/AddCar?productId=@item.productId" class="btn btn-success btn-block">加入購物車</a>
                                }
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>

    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const prevBtn = document.getElementById('prev');
        const nextBtn = document.getElementById('next');
        const productsInner = document.querySelector('.products-inner');
        const productsContainer = document.querySelector('.product-container');
        const productCards = document.querySelectorAll('.card');
        let visibleCards = calculateVisibleCards(); // 計算可視卡片數量
        let currentPage = 0;

        function calculateVisibleCards() {
            const containerWidth = productsContainer.offsetWidth - 40; // 減去左右內邊距
            const cardWidth = productCards[0].offsetWidth;
            const totalWidth = productCards.length * cardWidth;
            return Math.floor(containerWidth / cardWidth);
        }

        function goToPrevPage() {
            if (currentPage > 0) {
                currentPage--;
                scrollToPage(currentPage);
            }
        }

        function goToNextPage() {
            const totalPages = Math.ceil(productCards.length / visibleCards);
            if (currentPage < totalPages - 1) {
                currentPage++;
                scrollToPage(currentPage);
            }
        }

        function scrollToPage(pageIndex) {
            const cardWidth = productsContainer.offsetWidth / visibleCards;
            const scrollX = pageIndex * (cardWidth * visibleCards);
            productsInner.style.transform = `translateX(-${scrollX}px)`;
        }

        prevBtn.addEventListener('click', goToPrevPage);
        nextBtn.addEventListener('click', goToNextPage);

        // 調整視窗大小時重新計算可視卡片數量
        window.addEventListener('resize', function () {
            visibleCards = calculateVisibleCards();
            scrollToPage(currentPage);
        });

        // 調整商品卡片容器的寬度
        productsInner.style.width = `${productCards.length * 100}%`;
    });
        function showRecommendation(id) {
      // 隱藏所有推薦內容
      var recommendationContents = document.querySelectorAll('.recommendation-content');
      recommendationContents.forEach(function(content) {
        content.style.display = 'none';
      });

      // 顯示選中的推薦內容
      var selectedContent = document.getElementById('recommendationContent' + id);
      if (selectedContent) {
        selectedContent.style.display = 'block';
      }
    }
</script>
